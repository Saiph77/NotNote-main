(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d0b9d35"],{3530:function(e,t,i){"use strict";i.r(t);var o=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",[i("div",{staticStyle:{"padding-bottom":"10px"}},[i("router-link",{staticStyle:{color:"black","text-decoration":"none"},attrs:{to:"/"}},[i("el-button",[e._v("返回")])],1)],1),i("el-tabs",{attrs:{type:"border-card","tab-position":"top"}},[i("el-tab-pane",{attrs:{label:"🗺️ 网站管理"}},[i("website-setting")],1)],1)],1)},a=[],n=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",[i("el-form",{ref:"form",attrs:{model:e.websiteConfig,rules:e.formRules,"label-width":"140px"}},[i("el-form-item",{attrs:{label:"网站标题"}},[i("el-input",{staticStyle:{"max-width":"200px"},attrs:{clearable:""},model:{value:e.websiteConfig.websiteTitle,callback:function(t){e.$set(e.websiteConfig,"websiteTitle",t)},expression:"websiteConfig.websiteTitle"}})],1),i("el-form-item",{attrs:{label:"是否允许注册"}},[i("el-switch",{attrs:{"active-color":e.switchActiveColor,"inactive-color":e.switchInactiveColor,"active-value":1,"inactive-value":0},model:{value:e.websiteConfig.registerStrategy,callback:function(t){e.$set(e.websiteConfig,"registerStrategy",t)},expression:"websiteConfig.registerStrategy"}})],1),i("el-form-item",{attrs:{rule:e.formRules.maxUploadFileSize,prop:"maxUploadFileSize",label:"最大上传文件大小"}},[i("el-input",{staticStyle:{"max-width":"200px"},attrs:{clearable:""},model:{value:e.websiteConfig.maxUploadFileSize,callback:function(t){e.$set(e.websiteConfig,"maxUploadFileSize",t)},expression:"websiteConfig.maxUploadFileSize"}}),i("el-tooltip",{attrs:{effect:"light",content:"需重启服务生效",placement:"right"}},[i("i",{staticClass:"fa fa-lg fa-info-circle",staticStyle:{"padding-left":"5px",color:"grey"}})])],1),i("el-form-item",{attrs:{rule:e.formRules.tokenExpireTimeInHour,prop:"tokenExpireTimeInHour",label:"登录有效时间"}},[i("el-input",{staticStyle:{"max-width":"100px"},attrs:{clearable:""},model:{value:e.websiteConfig.tokenExpireTimeInHour,callback:function(t){e.$set(e.websiteConfig,"tokenExpireTimeInHour",t)},expression:"websiteConfig.tokenExpireTimeInHour"}}),i("span",{staticStyle:{"padding-left":"5px"}},[e._v("小时")])],1),i("el-form-item",[i("el-button",{attrs:{type:"primary"},on:{click:e.handleSaveWebsiteConfig}},[e._v("保存")])],1)],1)],1)},l=[],s=i("bc3a"),r=i.n(s),c=i("2919"),u={data:function(){return{formRules:{tokenExpireTimeInHour:[{required:!0,message:"不能为空"},{pattern:/^[0-9]+$/,message:"参数非法"}],maxUploadFileSize:[{required:!0,message:"不能为空"},{pattern:/^[A-Za-z0-9!@#$^]+MB$/,message:"参数非法，示例：10MB"}]},config:{headers:{token:this.$store.getters.getToken,username:this.$store.getters.getUsername}},switchActiveColor:getComputedStyle(document.body).getPropertyValue("--switch-active-color"),switchInactiveColor:getComputedStyle(document.body).getPropertyValue("--switch-inactive-color"),websiteConfig:{}}},methods:{handleSaveWebsiteConfig:function(){var e=this;console.log(this.websiteConfig),r.a.post(c["a"].HOST_URL+"/admin/updateWebsiteConfig",this.websiteConfig,this.config).then((function(t){t=t.data,0===t.code?e.$notify({type:"success",message:"保存成功",duration:1e3}):e.$notify({type:"error",message:"保存失败",duration:2e3})}))}},mounted:function(){var e=this;r.a.get(c["a"].HOST_URL+"/admin/websiteConfig",this.config).then((function(t){t=t.data,console.log(t),0===t.code?e.websiteConfig=t.data:e.$notify({type:"warning",message:"加载配置失败",duration:2e3})}))}},f=u,p=i("2877"),m=Object(p["a"])(f,n,l,!1,null,null,null),g=m.exports,d={components:{WebsiteSetting:g}},b=d,w=Object(p["a"])(b,o,a,!1,null,null,null);t["default"]=w.exports}}]);
//# sourceMappingURL=chunk-2d0b9d35.a3975176.js.map